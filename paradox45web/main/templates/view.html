{% extends "base.html" %}
{% block content %}
<h1>View Tables</h1>
{% if msg %}
<p style="color:yellow">{{ msg }}</p>
{% endif %}
{% if tables %}
<table border="1" cellpadding="6" cellspacing="0">
    <thead>
        <tr>
            <th>Name</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
    {% for tbl in tables %}
        <tr>
            <td><a href="{% url 'view_table' tbl %}">{{ tbl }}</a></td>
            <td>
                <a href="{% url 'createtable' %}?edit={{ tbl|urlencode }}" title="Edit {{ tbl }}" style="text-decoration:none;margin-right:8px;font-size:16px">âœï¸</a>

                <form method="post" style="display:inline;margin:0;padding:0" onsubmit="return confirm('Delete table \"{{ tbl|escapejs }}\"? This cannot be undone.');">
                    {% csrf_token %}
                    <input type="hidden" name="delete_table" value="{{ tbl }}">
                    <button type="submit" title="Delete {{ tbl }}" style="background:none;border:none;cursor:pointer;color:#c00;font-size:16px">ğŸ—‘</button>
                </form>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% else %}
    <p>No tables found in the database.</p>
{% endif %}
{% endblock %}